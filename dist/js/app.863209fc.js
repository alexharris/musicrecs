(function(e){function t(t){for(var n,o,i=t[0],c=t[1],l=t[2],d=0,f=[];d<i.length;d++)o=i[d],a[o]&&f.push(a[o][0]),a[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);u&&u(t);while(f.length)f.shift()();return r.push.apply(r,l||[]),s()}function s(){for(var e,t=0;t<r.length;t++){for(var s=r[t],n=!0,i=1;i<s.length;i++){var c=s[i];0!==a[c]&&(n=!1)}n&&(r.splice(t--,1),e=o(o.s=s[0]))}return e}var n={},a={app:0},r=[];function o(t){if(n[t])return n[t].exports;var s=n[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=e,o.c=n,o.d=function(e,t,s){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(s,n,function(t){return e[t]}.bind(null,n));return s},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],c=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var u=c;r.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"034f":function(e,t,s){"use strict";var n=s("64a9"),a=s.n(n);a.a},1:function(e,t){},10:function(e,t){},11:function(e,t){},12:function(e,t){},2:function(e,t){},3:function(e,t){},4:function(e,t){},5:function(e,t){},"56d7":function(e,t,s){"use strict";s.r(t);s("cadf"),s("551c"),s("f751"),s("097d");var n=s("59ca"),a=s.n(n),r=(s("66ce"),s("2b0e")),o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("h1",[e._v("Music Recs")]),s("span",{staticClass:"link",on:{click:e.filterNone}},[e._v("all")]),e._v(" Â \n  "),s("span",{staticClass:"link",on:{click:function(t){e.clearFilters(),e.filterYoutube()}}},[e._v("youtube")]),e._v("Â \n  "),s("span",{staticClass:"link",on:{click:function(t){e.clearFilters(),e.filterSpotify()}}},[e._v("spotify")]),e._v("Â \n  "),s("span",{staticClass:"link",on:{click:function(t){e.clearFilters(),e.filterBandcamp()}}},[e._v("bandcamp")]),e._v("Â \n  "),s("span",{staticClass:"link",on:{click:function(t){e.clearFilters(),e.filterSoundcloud()}}},[e._v("soundcloud")]),e._v("Â \n  "),s("span",{staticClass:"link",on:{click:function(t){e.clearFilters(),e.filterOther()}}},[e._v("other")]),s("br"),s("br"),s("hr"),s("br"),e._l(e.messages,function(t){return s("section",["youtube"==t.type?s("div",[s("iframe",{attrs:{width:"560",height:"315",src:"https://www.youtube.com/embed/"+t.youtubeId,frameborder:"0",allow:"accelerometer; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}})]):"soundcloud"==t.type?s("div",[s("a",{attrs:{href:t.url}},[e._v(e._s(t.url))])]):"spotify"==t.type?s("div",["album"==t.spotifyTrackOrAlbum?s("iframe",{attrs:{src:"https://open.spotify.com/embed/album/"+t.spotifyId,width:"300",height:"380",frameborder:"0",allowtransparency:"true",allow:"encrypted-media"}}):"track"==t.spotifyTrackOrAlbum?s("iframe",{attrs:{src:"https://open.spotify.com/embed/track/"+t.spotifyId,width:"300",height:"380",frameborder:"0",allowtransparency:"true",allow:"encrypted-media"}}):e._e()]):"bandcamp"==t.type?s("div",[s("a",{attrs:{href:t.url}},[e._v(e._s(t.url))])]):"other"==t.type?s("div",[s("a",{attrs:{href:t.url}},[e._v(e._s(t.url))])]):e._e(),s("p",[s("small",[e._v("Posted by "+e._s(t.user)+" on "+e._s(t.createdTimestamp))])]),s("hr"),s("br")])})],2)},i=[],c=(s("ac6a"),s("28a5"),s("6762"),s("2fdb"),s("4917"),{name:"app",data:function(){return{allMessages:[],filteredMessages:[],messages:[]}},methods:{clearFilters:function(){this.messages=this.allMessages,this.filteredMessages=[]},filterYoutube:function(){var e=this;return console.log("youtube"),this.messages.filter(function(t){"youtube"==t.type&&e.filteredMessages.push(t),e.messages=e.filteredMessages})},filterSoundcloud:function(){var e=this;return this.messages.filter(function(t){"soundcloud"==t.type&&e.filteredMessages.push(t),e.messages=e.filteredMessages})},filterBandcamp:function(){var e=this;return this.messages.filter(function(t){"bandcamp"==t.type&&e.filteredMessages.push(t),e.messages=e.filteredMessages})},filterSpotify:function(){var e=this;return this.messages.filter(function(t){"spotify"==t.type&&e.filteredMessages.push(t),e.messages=e.filteredMessages})},filterOther:function(){var e=this;return this.messages.filter(function(t){"other"==t.type&&e.filteredMessages.push(t),e.messages=e.filteredMessages})},filterNone:function(){this.messages=this.allMessages}},mounted:function(){var e=this,t=s("6ca5"),n=new t.Client,a=s("8aa5");s("e71f"),n.on("ready",function(){console.log("I am ready!")}),n.on("message",function(e){if(console.log("hello"),"ping"===e.content)e.channel.send("pong1"),console.log("pong: "+Date.now());else if(e.content.match(/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[-;:&=\+\$,\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=\+\$,\w]+@)[A-Za-z0-9.-]+)((?:\/[\+~%\/.\w-_]*)?\??(?:[-\+=&;%@.\w_]*)#?(?:[\w]*))?)/))if(e.react("ðŸ¤–"),console.log("link received"),!0===e.content.includes("youtube")||!0===e.content.includes("youtu.be")){console.log("youtube received");var t,s=/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[-;:&=\+\$,\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=\+\$,\w]+@)[A-Za-z0-9.-]+)((?:\/[\+~%\/.\w-_]*)?\??(?:[-\+=&;%@.\w_]*)#?(?:[\w]*))?)/,n=e.content.match(s);if(console.log(n),void 0!=n[0].split("v=")[1]){t=n[0].split("v=")[1];var r=t.indexOf("&");-1!=r&&(t=t.substring(0,r))}else void 0!=n[0].substring(n[0].lastIndexOf("/")+1)&&(t=n[0].substring(n[0].lastIndexOf("/")+1));a.firestore().collection("messages").add({message:e.content,user:e.author.username,createdTimestamp:e.createdTimestamp,youtubeId:t,type:"youtube"})}else if(!0===e.content.includes("spotify")){console.log("spotify received");s=/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[-;:&=\+\$,\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=\+\$,\w]+@)[A-Za-z0-9.-]+)((?:\/[\+~%\/.\w-_]*)?\??(?:[-\+=&;%@.\w_]*)#?(?:[\w]*))?)/,n=e.content.match(s);var o=n[0].substring(n[0].lastIndexOf("/")+1);n[0].includes("album")?a.firestore().collection("messages").add({message:e.content,user:e.author.username,createdTimestamp:e.createdTimestamp,url:n[0],type:"spotify",spotifyId:o,spotifyTrackOrAlbum:"album"}):n[0].includes("track")?a.firestore().collection("messages").add({message:e.content,user:e.author.username,createdTimestamp:e.createdTimestamp,url:n[0],type:"spotify",spotifyId:o,spotifyTrackOrAlbum:"track"}):console.log("Not a valid Spotify link")}else if(!0===e.content.includes("soundcloud")){console.log("soundcloud received");s=/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[-;:&=\+\$,\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=\+\$,\w]+@)[A-Za-z0-9.-]+)((?:\/[\+~%\/.\w-_]*)?\??(?:[-\+=&;%@.\w_]*)#?(?:[\w]*))?)/,n=e.content.match(s);a.firestore().collection("messages").add({message:e.content,user:e.author.username,createdTimestamp:e.createdTimestamp,url:n[0],type:"soundcloud"})}else if(!0===e.content.includes("bandcamp")){console.log("bandcamp received");s=/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[-;:&=\+\$,\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=\+\$,\w]+@)[A-Za-z0-9.-]+)((?:\/[\+~%\/.\w-_]*)?\??(?:[-\+=&;%@.\w_]*)#?(?:[\w]*))?)/,n=e.content.match(s);console.log(n),a.firestore().collection("messages").add({message:e.content,user:e.author.username,createdTimestamp:e.createdTimestamp,url:n[0],type:"bandcamp"})}else{console.log("other link received");s=/((([A-Za-z]{3,9}:(?:\/\/)?)(?:[-;:&=\+\$,\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=\+\$,\w]+@)[A-Za-z0-9.-]+)((?:\/[\+~%\/.\w-_]*)?\??(?:[-\+=&;%@.\w_]*)#?(?:[\w]*))?)/,n=e.content.match(s);a.firestore().collection("messages").add({message:e.content,user:e.author.username,createdTimestamp:e.createdTimestamp,url:n[0],type:"other"})}}),n.login("NjA1MjEyMzYxNTc3NzI1OTc0.XT_JqA.Lrk1M0uKwKMn6bsXBNWg0FjRQ0c"),a.firestore().collection("messages").orderBy("createdTimestamp").get().then(function(t){t.forEach(function(t){e.allMessages.push({url:t.data().url,user:t.data().user,type:t.data().type,youtubeId:t.data().youtubeId,spotifyId:t.data().spotifyId,spotifyTrackOrAlbum:t.data().spotifyTrackOrAlbum,createdTimestamp:new Date(t.data().createdTimestamp)})})})},created:function(){this.messages=this.allMessages}}),l=c,u=(s("034f"),s("2877")),d=Object(u["a"])(l,o,i,!1,null,null,null),f=d.exports;a.a.database.enableLogging(!0);var p={apiKey:"AIzaSyAWR5oRFAs6_B7FCr7A882Gf9R0dKGPK8o",authDomain:"musicrecs-d37a6.firebaseapp.com",databaseURL:"https://musicrecs-d37a6.firebaseio.com",projectId:"musicrecs-d37a6",storageBucket:"",messagingSenderId:"21696461868",appId:"1:21696461868:web:73476ee43763d343"};a.a.initializeApp(p),r["a"].config.productionTip=!1,new r["a"]({render:function(e){return e(f)}}).$mount("#app")},6:function(e,t){},"64a9":function(e,t,s){},7:function(e,t){},8:function(e,t){},9:function(e,t){}});
//# sourceMappingURL=app.863209fc.js.map